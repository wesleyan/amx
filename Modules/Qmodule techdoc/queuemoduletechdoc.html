<html>
<head><title>Qmodule Techdoc</title>

<style type="text/css">
body{
	font-family: arial, "lucida console", sans-serif;
	font-size: 16px;
}

h1{
	font-size: 20px;
	text-align: center;
}

p.title{
	font-size: 20px;
	font-weight: bold;
	margin-top: 50px;
	
}
p.paragraph{
	margin-left: 20px;
}

fieldset{

	margin-top: 10px;
	margin-bottom: 5px;

}

fieldset img{
	float:right
}

.caption {
	margin-left: 15px;
	margin-bottom: 15px;
	font-family: "lucida console", sans-serif;
	/*font-size: smaller;*/
	width: 75%;
}

.variable{
	color: red;
}
.bluetext{
	color: blue;
}

</style>

</head>

<body>

<h1>Qmodule TECHDOC</h1>


<p class="title">Description</p>
<p class="paragraph">
Queue control for RS232 devices.  
Features a "request queue" in which to stack status requests string sent to a device primarily for feedback. 
Also features a priority "command queue" in which to stack strings sent to a device primarily to alter its operation. No string in the request queue can be sent until the command queue is empty,
This module can be included in several other rs232 modules for one system, just keep the <b>stringsend</b> DPS's different.
</p>

<p class="title">Customizable features</p>
<p class="paragraph">
<ul>
<li>Populate a list of 50 or less strings to send to the device at a constant rate. Use to closely monitor the status of the device at all times.</li>
<li>Change the time smallest interval that the system can send strings to the device.</li>
<li>Change the frequency that the request queue is populated - in relation to the smallest string-sending interval.</li>
<li>Choose whether to send only command strings or send request strings as well...Choose your own channel on a virtual device to turn on/off.</li>
</ul>
</p>




<p class="title">Detailed Usage - alter include file</p>


<p class="paragraph">To use the Qmodule in a program or module do the following steps...
   first, open up the template <b>queue_include_template.axi</b> found in <span class="bluetext">\\Balukonis1\AMX PRODUCTION CODE\MODULE\Qmodule\</span>.<br/> This file must be modified in 9 places.</br></p>



<fieldset><legend>Step 1</legend>
<div class="picandcap">
<img style="float:right;" src="step1.jpg"/>
<p class="caption">choose DPS for the <span class="variable">devicestrings</span> virtual device following commented guidelines. No need to change the variable name <span class="variable">devicestrings</span> if you are builing a module</p>
</div>
</fieldset>

<fieldset><legend>Step 2</legend>
<div class="picandcap">
<img style="float:right;" src="step2.jpg"/>
<p class="caption">choose a virtual device in your program code or module to be responsible for monitoring request queue power. Assign <span class="variable">qpc</span> the value of the channel on the virtual device you selected</p>
</div>
</fieldset>

<fieldset><legend>Step 3</legend>
<div class="picandcap">
<img src="step3.jpg"/>
<p class="caption">populate the request list <span class="variable">requests</span> following commented guidelines</p>

<p class="caption"><a href="step3examples.html">Click here for more examples of this</a></p>
</div>
</fieldset>

<fieldset><legend>Step 4</legend>
<div class="picandcap">
<img src="step4.jpg"/>
<p class="caption">choose <span class="variable">queueinterval</span> value following commented guidelines</p>
</div>
</fieldset>

<fieldset><legend>Step 5</legend>
<div class="picandcap">
<img src="step5.jpg"/>
<p class="caption">choose <span class="variable">requestratio</span> value following commented guidelines</p>
</div>
</fieldset>

<fieldset><legend>Step 6</legend>
<div class="picandcap">
<img src="step6.jpg"/>
<p class="caption">choose <span class="variable">queuepower</span> value (1/0) following commented guidlines</p>
</div>
</fieldset>

<fieldset><legend>Step 7/8</legend>
<div class="picandcap">
<img src="step78.jpg"/>
<p class="caption">enter the name of the virtual device you selected in step 2.</p>
</div>
</fieldset>

<fieldset><legend>Step 9</legend>
<div class="picandcap">
<img src="step9.jpg"/>
<p class="caption">enter the name of the virtual device you selected in step 2.</p>
</div>
</fieldset>

<fieldset><legend>Step 10</legend>
<div class="picandcap">
<img src="step10.jpg"/>
<p class="caption">Save this file as an include file (.AXI) with the name <b><i>xxxxx</i>_queue_include.axi</b> <br/> where <i>xxxxx</i> is a unique name for your main program or module</p>
</div>
</fieldset>

<fieldset><legend>Step 11</legend>
<div class="picandcap">
<img src="step11.jpg"/>
<p class="caption">Be sure to include your include call in the <span class="bluetext">DEFINE_DEVICE</span> section of your main program or module</p>
</div>
</fieldset>

<p class="title">Usage - command strings</p>
<p class="paragraph">
To send a command string from your main program or outside module, send the string to the <span class="variable">devicestrings</span> virtual device from Step 1.<br/><br/>
<img src="sendstring.jpg"/>
</p>


<p class="title">Compilation Order</p>
<p class="paragraph">
<ol>
	<li>compile newQmodule</li>
	<li>save <i>xxxxx_queue_include.axi</i> file</li>
	<li>compile your main program or module, the one that contains the include call for <i>xxxxx_queue_include.axi</i></li>
	<li>compile all other higher level modules or main progam</li>
</ol>
</p>


<p class="title">Author</p>
<p class="paragraph">
	<a href="mailto:ccaesar@wesleyan.edu">Christopher Caesar</a>
</p>

</body>

</html>